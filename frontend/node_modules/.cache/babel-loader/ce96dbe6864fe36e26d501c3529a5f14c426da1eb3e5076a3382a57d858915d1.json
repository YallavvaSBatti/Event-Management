{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{useAuth}from\"../context/AuthContext\";import{eventService}from\"../services/api\";import{FiSearch}from\"react-icons/fi\";// import search icon from react-icons\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Header=_ref=>{let{onSearch}=_ref;const{user,logout}=useAuth();const navigate=useNavigate();const[searchTerm,setSearchTerm]=useState(\"\");const[searchResults,setSearchResults]=useState([]);const[showResults,setShowResults]=useState(false);const handleLogout=()=>{logout();navigate(\"/\");};useEffect(()=>{if(onSearch){onSearch(searchTerm);}},[searchTerm,onSearch]);useEffect(()=>{const fetchResults=async()=>{if(!searchTerm.trim()){setSearchResults([]);return;}try{const response=await eventService.searchEvents(searchTerm);setSearchResults(response.data||[]);}catch(err){console.error(\"Search failed\",err);}};fetchResults();},[searchTerm]);const handleSelectResult=eventId=>{navigate(\"/events/\".concat(eventId));setSearchTerm(\"\");setSearchResults([]);setShowResults(false);};return/*#__PURE__*/_jsx(\"header\",{className:\"bg-white shadow-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"flex items-center justify-between py-2 relative\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-xl font-bold\",style:{textDecoration:\"none\",color:\"var(--foreground)\"},children:\"Event Connect\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(FiSearch,{className:\"absolute top-2.5 left-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search by title, venue, category...\",className:\"border rounded px-10 w-100px py-1 w-full focus:outline-none focus:ring-2 focus:ring-blue-400\",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),onFocus:()=>setShowResults(true),onBlur:()=>setTimeout(()=>setShowResults(false),200)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-4\",children:user?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-muted\",children:[\"Welcome, \",user.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"btn btn-secondary\",children:\"Logout\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"btn btn-secondary\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/register\",className:\"btn btn-primary\",children:\"Sign Up\"})]})})]})})});};export default Header;","map":{"version":3,"names":["useState","useEffect","Link","useNavigate","useAuth","eventService","FiSearch","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Header","_ref","onSearch","user","logout","navigate","searchTerm","setSearchTerm","searchResults","setSearchResults","showResults","setShowResults","handleLogout","fetchResults","trim","response","searchEvents","data","err","console","error","handleSelectResult","eventId","concat","className","children","to","style","textDecoration","color","type","placeholder","value","onChange","e","target","onFocus","onBlur","setTimeout","name","onClick"],"sources":["D:/assignment/v0-event-booking-platform-main/frontend/src/components/Header.js"],"sourcesContent":["\"use client\"\nimport { useState, useEffect } from \"react\"\nimport { Link, useNavigate } from \"react-router-dom\"\nimport { useAuth } from \"../context/AuthContext\"\nimport { eventService } from \"../services/api\"\nimport { FiSearch } from \"react-icons/fi\" // import search icon from react-icons\n\nconst Header = ({ onSearch }) => {\n  const { user, logout } = useAuth()\n  const navigate = useNavigate()\n  const [searchTerm, setSearchTerm] = useState(\"\")\n  const [searchResults, setSearchResults] = useState([])\n  const [showResults, setShowResults] = useState(false)\n\n  const handleLogout = () => {\n    logout()\n    navigate(\"/\")\n  }\n\n  useEffect(() => {\n    if (onSearch) {\n      onSearch(searchTerm)\n    }\n  }, [searchTerm, onSearch])\n\n  useEffect(() => {\n    const fetchResults = async () => {\n      if (!searchTerm.trim()) {\n        setSearchResults([])\n        return\n      }\n\n      try {\n        const response = await eventService.searchEvents(searchTerm)\n        setSearchResults(response.data || [])\n      } catch (err) {\n        console.error(\"Search failed\", err)\n      }\n    }\n\n    fetchResults()\n  }, [searchTerm])\n\n  const handleSelectResult = (eventId) => {\n    navigate(`/events/${eventId}`)\n    setSearchTerm(\"\")\n    setSearchResults([])\n    setShowResults(false)\n  }\n\n  return (\n    <header className=\"bg-white shadow-sm\">\n      <div className=\"container mx-auto\">\n        <nav className=\"flex items-center justify-between py-2 relative\">\n          <Link\n            to=\"/\"\n            className=\"text-xl font-bold\"\n            style={{ textDecoration: \"none\", color: \"var(--foreground)\" }}\n          >\n            Event Connect\n          </Link>\n\n          <div className=\"relative\"> \n            <FiSearch className=\"absolute top-2.5 left-3 text-gray-400\" />\n            <input\n              type=\"text\"\n              placeholder=\"Search by title, venue, category...\"\n              className=\"border rounded px-10 w-100px py-1 w-full focus:outline-none focus:ring-2 focus:ring-blue-400\"\n              value={searchTerm}\n              onChange={(e) => setSearchTerm(e.target.value)}\n              onFocus={() => setShowResults(true)}\n              onBlur={() => setTimeout(() => setShowResults(false), 200)}\n            />\n\n          </div>\n\n          {/* <div className=\"hidden md:flex items-center gap-6\"> */}\n            {/* <Link to=\"/\" style={{ textDecoration: \"none\", color: \"var(--muted-foreground)\" }}>\n              Events\n            </Link> */}\n        \n            {/* <Link to=\"/\" style={{ textDecoration: \"none\", color: \"var(--muted-foreground)\" }}>\n              Popular\n            </Link> */}\n          {/* </div> */}\n\n          <div className=\"flex items-center gap-4\">\n            {user ? (\n              <>\n                <span className=\"text-sm text-muted\">Welcome, {user.name}</span>\n                <button onClick={handleLogout} className=\"btn btn-secondary\">\n                  Logout\n                </button>\n              </>\n            ) : (\n              <>\n                <Link to=\"/login\" className=\"btn btn-secondary\">\n                  Login\n                </Link>\n                <Link to=\"/register\" className=\"btn btn-primary\">\n                  Sign Up\n                </Link>\n              </>\n            )}\n          </div>\n        </nav>\n      </div>\n    </header>\n  )\n}\n\nexport default Header\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}