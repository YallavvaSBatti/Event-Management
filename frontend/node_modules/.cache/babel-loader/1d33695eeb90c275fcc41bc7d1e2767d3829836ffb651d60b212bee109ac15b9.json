{"ast":null,"code":"\"use client\";import{useState,useEffect}from\"react\";import{useParams,Link,useNavigate}from\"react-router-dom\";import{eventService}from\"../services/api\";import{useAuth}from\"../context/AuthContext\";import rockConcertImg from\"../assets/images/RockConcert.jpg\";import techConferenceImg from\"../assets/images/techconferance.jpeg\";import comedyNightImg from\"../assets/images/comedynight.jpg\";import foodFestivalImg from\"../assets/images/foodfestival.jpg\";import artExhibitionImg from\"../assets/images/artexhibition.jpg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EventDetail=()=>{const{id}=useParams();const{user}=useAuth();const navigate=useNavigate();const[event,setEvent]=useState(null);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchEvent=async()=>{try{const response=await eventService.getEventById(id);setEvent(response.data);}catch(err){setError(\"Failed to load event details\");}finally{setLoading(false);}};fetchEvent();},[id]);const handleBookNow=()=>{if(!user){navigate(\"/login\");return;}navigate(\"/booking/\".concat(id));};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading event details...\"})});}if(error||!event){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-destructive\",children:error||\"Event not found\"})});}const formatDate=dateString=>{return new Date(dateString).toLocaleDateString(\"en-US\",{weekday:\"long\",year:\"numeric\",month:\"long\",day:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});};const formatPrice=price=>{return new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"USD\"}).format(price);};const eventImages={1:rockConcertImg,2:techConferenceImg,3:comedyNightImg,4:foodFestivalImg,5:artExhibitionImg};return/*#__PURE__*/_jsx(\"div\",{className:\"container py-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-3 gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"lg:col-span-2\",children:[/*#__PURE__*/_jsx(\"img\",{src:eventImages[event.id]||rockConcertImg// fallback image\n,alt:event.title,style:{width:\"100%\",height:\"200px\",objectFit:\"cover\",borderRadius:\"var(--radius)\",marginBottom:\"1rem\"}}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",style:{backgroundColor:\"var(--muted)\",padding:\"0.5rem 1rem\",borderRadius:\"var(--radius)\",color:\"var(--muted-foreground)\"},children:event.category})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold mb-4\",children:event.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold mb-2\",children:\"About this event\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted leading-relaxed\",children:event.description||\"Join us for an amazing experience that you won't forget!\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"\\uD83D\\uDCC5 Date & Time\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:formatDate(event.eventDate)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold mb-2\",children:\"\\uD83D\\uDCCD Venue\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:event.venue})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{position:\"sticky\",top:\"2rem\"},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Book Your Tickets\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-lg\",children:\"Ticket Price\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-2xl font-bold\",children:formatPrice(event.price)})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-muted\",children:[event.availableSeats,\" of \",event.totalSeats,\" seats available\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleBookNow,className:\"btn btn-primary w-full mb-4\",style:{width:\"100%\"},disabled:event.availableSeats===0,children:event.availableSeats===0?\"Sold Out\":\"Book Now\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"text-sm text-muted\",style:{textDecoration:\"underline\"},children:\"\\u2190 Back to all events\"})})]})})]})});};export default EventDetail;","map":{"version":3,"names":["useState","useEffect","useParams","Link","useNavigate","eventService","useAuth","rockConcertImg","techConferenceImg","comedyNightImg","foodFestivalImg","artExhibitionImg","jsx","_jsx","jsxs","_jsxs","EventDetail","id","user","navigate","event","setEvent","loading","setLoading","error","setError","fetchEvent","response","getEventById","data","err","handleBookNow","concat","className","children","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","day","hour","minute","formatPrice","price","Intl","NumberFormat","style","currency","format","eventImages","src","alt","title","width","height","objectFit","borderRadius","marginBottom","backgroundColor","padding","color","category","description","eventDate","venue","position","top","availableSeats","totalSeats","onClick","disabled","to","textDecoration"],"sources":["D:/assignment/v0-event-booking-platform-main/frontend/src/components/EventDetail.js"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport { eventService } from \"../services/api\";\nimport { useAuth } from \"../context/AuthContext\";\nimport rockConcertImg from \"../assets/images/RockConcert.jpg\";\nimport techConferenceImg from \"../assets/images/techconferance.jpeg\";\nimport comedyNightImg from \"../assets/images/comedynight.jpg\";\nimport foodFestivalImg from \"../assets/images/foodfestival.jpg\";\nimport artExhibitionImg from \"../assets/images/artexhibition.jpg\";\n\nconst EventDetail = () => {\n  const { id } = useParams();\n  const { user } = useAuth();\n  const navigate = useNavigate();\n  const [event, setEvent] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchEvent = async () => {\n      try {\n        const response = await eventService.getEventById(id);\n        setEvent(response.data);\n      } catch (err) {\n        setError(\"Failed to load event details\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchEvent();\n  }, [id]);\n\n  const handleBookNow = () => {\n    if (!user) {\n      navigate(\"/login\");\n      return;\n    }\n    navigate(`/booking/${id}`);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"container py-12\">\n        <div className=\"text-center\">Loading event details...</div>\n      </div>\n    );\n  }\n\n  if (error || !event) {\n    return (\n      <div className=\"container py-12\">\n        <div className=\"text-center text-destructive\">\n          {error || \"Event not found\"}\n        </div>\n      </div>\n    );\n  }\n\n  const formatDate = (dateString) => {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      weekday: \"long\",\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n  };\n\n  const formatPrice = (price) => {\n    return new Intl.NumberFormat(\"en-US\", {\n      style: \"currency\",\n      currency: \"USD\",\n    }).format(price);\n  };\n\n  const eventImages = {\n    1: rockConcertImg,\n    2: techConferenceImg,\n    3: comedyNightImg,\n    4: foodFestivalImg,\n    5: artExhibitionImg,\n  };\n\n  return (\n    <div className=\"container py-12\">\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\n        <div className=\"lg:col-span-2\">\n          <img\n            src={eventImages[event.id] || rockConcertImg} // fallback image\n            alt={event.title}\n            style={{\n              width: \"100%\",\n              height: \"200px\",\n              objectFit: \"cover\",\n              borderRadius: \"var(--radius)\",\n              marginBottom: \"1rem\",\n            }}\n          />\n\n          <div className=\"mb-4\">\n            <span\n              className=\"text-sm\"\n              style={{\n                backgroundColor: \"var(--muted)\",\n                padding: \"0.5rem 1rem\",\n                borderRadius: \"var(--radius)\",\n                color: \"var(--muted-foreground)\",\n              }}\n            >\n              {event.category}\n            </span>\n          </div>\n\n          <h1 className=\"text-3xl font-bold mb-4\">{event.title}</h1>\n\n          <div className=\"mb-6\">\n            <h2 className=\"text-xl font-semibold mb-2\">About this event</h2>\n            <p className=\"text-muted leading-relaxed\">\n              {event.description ||\n                \"Join us for an amazing experience that you won't forget!\"}\n            </p>\n          </div>\n\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"card\">\n              <h3 className=\"font-semibold mb-2\">üìÖ Date & Time</h3>\n              <p className=\"text-muted\">{formatDate(event.eventDate)}</p>\n            </div>\n\n            <div className=\"card\">\n              <h3 className=\"font-semibold mb-2\">üìç Venue</h3>\n              <p className=\"text-muted\">{event.venue}</p>\n            </div>\n          </div>\n        </div>\n\n        <div>\n          <div className=\"card\" style={{ position: \"sticky\", top: \"2rem\" }}>\n            <h2 className=\"text-2xl font-bold mb-4\">Book Your Tickets</h2>\n\n            <div className=\"mb-6\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <span className=\"text-lg\">Ticket Price</span>\n                <span className=\"text-2xl font-bold\">\n                  {formatPrice(event.price)}\n                </span>\n              </div>\n              <p className=\"text-sm text-muted\">\n                {event.availableSeats} of {event.totalSeats} seats available\n              </p>\n            </div>\n\n            <button\n              onClick={handleBookNow}\n              className=\"btn btn-primary w-full mb-4\"\n              style={{ width: \"100%\" }}\n              disabled={event.availableSeats === 0}\n            >\n              {event.availableSeats === 0 ? \"Sold Out\" : \"Book Now\"}\n            </button>\n\n            <div className=\"text-center\">\n              <Link\n                to=\"/\"\n                className=\"text-sm text-muted\"\n                style={{ textDecoration: \"underline\" }}\n              >\n                ‚Üê Back to all events\n              </Link>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EventDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}