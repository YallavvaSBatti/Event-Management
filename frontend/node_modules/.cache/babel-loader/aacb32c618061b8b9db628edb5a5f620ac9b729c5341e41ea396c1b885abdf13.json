{"ast":null,"code":"import{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";import rockConcertImg from\"../assets/images/RockConcert.jpg\";import techConferenceImg from\"../assets/images/techconferance.jpeg\";import comedyNightImg from\"../assets/images/comedynight.jpg\";import foodFestivalImg from\"../assets/images/foodfestival.jpg\";import artExhibitionImg from\"../assets/images/artexhibition.jpg\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Popular=()=>{const[events,setEvents]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchPopularEvents=async()=>{try{const response=await fetch(\"http://localhost:8080/api/events/popular\");if(!response.ok)throw new Error(\"Failed to fetch\");const data=await response.json();setEvents(data);}catch(err){setError(\"Failed to load popular events\");}finally{setLoading(false);}};fetchPopularEvents();},[]);const eventImages={1:rockConcertImg,2:techConferenceImg,3:comedyNightImg,4:foodFestivalImg,5:artExhibitionImg};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:\"Loading popular events...\"})});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"container py-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-center text-destructive\",children:error})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"container py-12\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mt-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-2\",children:\"Popular Events\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted text-lg\",children:\"Check out what's trending now!\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",children:events.map(event=>/*#__PURE__*/_jsx(PopularEventCard,{event:event,eventImages:eventImages},event.id))})]});};const PopularEventCard=_ref=>{let{event,eventImages}=_ref;const formatDate=dateString=>{return new Date(dateString).toLocaleDateString(\"en-US\",{weekday:\"short\",year:\"numeric\",month:\"short\",day:\"numeric\",hour:\"2-digit\",minute:\"2-digit\"});};const formatPrice=price=>{return new Intl.NumberFormat(\"en-US\",{style:\"currency\",currency:\"USD\"}).format(price);};return/*#__PURE__*/_jsx(Link,{to:\"/events/\".concat(event.id),style:{textDecoration:\"none\"},children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",style:{cursor:\"pointer\",transition:\"transform 0.2s\"},onMouseEnter:e=>e.currentTarget.style.transform=\"translateY(-2px)\",onMouseLeave:e=>e.currentTarget.style.transform=\"translateY(0)\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(\"img\",{src:eventImages[event.id]||rockConcertImg// fallback image\n,alt:event.title,style:{width:\"100%\",height:\"200px\",objectFit:\"cover\",borderRadius:\"var(--radius)\",marginBottom:\"1rem\"}})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",style:{backgroundColor:\"var(--muted)\",padding:\"0.25rem 0.5rem\",borderRadius:\"0.25rem\",color:\"var(--muted-foreground)\"},children:event.category})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:event.title}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted text-sm mb-4\",children:event.venue}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-muted\",children:formatDate(event.eventDate)}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-semibold\",children:formatPrice(event.price)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-muted\",children:[event.availableSeats,\" seats left\"]})]})]})});};export default Popular;","map":{"version":3,"names":["useState","useEffect","Link","rockConcertImg","techConferenceImg","comedyNightImg","foodFestivalImg","artExhibitionImg","jsx","_jsx","jsxs","_jsxs","Popular","events","setEvents","loading","setLoading","error","setError","fetchPopularEvents","response","fetch","ok","Error","data","json","err","eventImages","className","children","map","event","PopularEventCard","id","_ref","formatDate","dateString","Date","toLocaleDateString","weekday","year","month","day","hour","minute","formatPrice","price","Intl","NumberFormat","style","currency","format","to","concat","textDecoration","cursor","transition","onMouseEnter","e","currentTarget","transform","onMouseLeave","src","alt","title","width","height","objectFit","borderRadius","marginBottom","backgroundColor","padding","color","category","venue","eventDate","availableSeats"],"sources":["D:/assignment/v0-event-booking-platform-main/frontend/src/components/Popular.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport rockConcertImg from \"../assets/images/RockConcert.jpg\"\r\nimport techConferenceImg from \"../assets/images/techconferance.jpeg\"\r\nimport comedyNightImg from \"../assets/images/comedynight.jpg\"\r\nimport foodFestivalImg from \"../assets/images/foodfestival.jpg\"\r\nimport artExhibitionImg from \"../assets/images/artexhibition.jpg\"\r\n\r\nconst Popular = () => {\r\n  const [events, setEvents] = useState([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const fetchPopularEvents = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:8080/api/events/popular\")\r\n        if (!response.ok) throw new Error(\"Failed to fetch\")\r\n        const data = await response.json()\r\n        setEvents(data)\r\n      } catch (err) {\r\n        setError(\"Failed to load popular events\")\r\n      } finally {\r\n        setLoading(false)\r\n      }\r\n    }\r\n    fetchPopularEvents()\r\n  }, [])\r\n  const eventImages = {\r\n  1: rockConcertImg,\r\n  2: techConferenceImg,\r\n  3: comedyNightImg,\r\n  4: foodFestivalImg,\r\n  5: artExhibitionImg,\r\n}\r\n  if (loading) {\r\n    return (\r\n      <div className=\"container py-12\">\r\n        <div className=\"text-center\">Loading popular events...</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"container py-12\">\r\n        <div className=\"text-center text-destructive\">{error}</div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"container py-12\">\r\n      <div className=\"mt-8\">\r\n        <h2 className=\"text-2xl font-bold mb-2\">Popular Events</h2>\r\n        <p className=\"text-muted text-lg\">Check out what's trending now!</p>\r\n      </div>\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        {events.map((event) => (\r\n          <PopularEventCard key={event.id} event={event} eventImages={eventImages} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PopularEventCard = ({ event, eventImages }) => {\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\r\n      weekday: \"short\",\r\n      year: \"numeric\",\r\n      month: \"short\",\r\n      day: \"numeric\",\r\n      hour: \"2-digit\",\r\n      minute: \"2-digit\",\r\n    })\r\n  }\r\n\r\n  const formatPrice = (price) => {\r\n    return new Intl.NumberFormat(\"en-US\", {\r\n      style: \"currency\",\r\n      currency: \"USD\",\r\n    }).format(price)\r\n  }\r\n\r\n  return (\r\n    <Link to={`/events/${event.id}`} style={{ textDecoration: \"none\" }}>\r\n      <div\r\n        className=\"card\"\r\n        style={{ cursor: \"pointer\", transition: \"transform 0.2s\" }}\r\n        onMouseEnter={(e) => (e.currentTarget.style.transform = \"translateY(-2px)\")}\r\n        onMouseLeave={(e) => (e.currentTarget.style.transform = \"translateY(0)\")}\r\n      >\r\n        <div className=\"mb-4\">\r\n          <img\r\n            src={eventImages[event.id] || rockConcertImg} // fallback image\r\n            alt={event.title}\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"200px\",\r\n              objectFit: \"cover\",\r\n              borderRadius: \"var(--radius)\",\r\n              marginBottom: \"1rem\",\r\n            }}\r\n          />\r\n        </div>\r\n        <div className=\"mb-2\">\r\n          <span\r\n            className=\"text-sm\"\r\n            style={{\r\n              backgroundColor: \"var(--muted)\",\r\n              padding: \"0.25rem 0.5rem\",\r\n              borderRadius: \"0.25rem\",\r\n              color: \"var(--muted-foreground)\",\r\n            }}\r\n          >\r\n            {event.category}\r\n          </span>\r\n        </div>\r\n        <h3 className=\"text-xl font-semibold mb-2\">{event.title}</h3>\r\n        <p className=\"text-muted text-sm mb-4\">{event.venue}</p>\r\n        <div className=\"flex items-center justify-between\">\r\n          <div>\r\n            <p className=\"text-sm text-muted\">{formatDate(event.eventDate)}</p>\r\n            <p className=\"text-lg font-semibold\">{formatPrice(event.price)}</p>\r\n          </div>\r\n          <div className=\"text-sm text-muted\">{event.availableSeats} seats left</div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  )\r\n}\r\n\r\nexport default Popular"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}